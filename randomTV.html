<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>What 2 Watch</title>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.9/css/mdb.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    <link rel="stylesheet" href="style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>

</head>
<body>

<div class="card card-cascade wider reverse" style="background-color: transparent;">

    <!-- Card image -->
    <div class="view overlay">

        <div class="welcomeIntro">Click Below for a Random TV Show...</div>
        <!--<h1 class="welcomeIntro" style="text-align: center; transform: translateY(200%); margin: 0; color: #ffffff; font-family: SF-Pro-Display-Medium;">Click Below for a Random Movie..</h1>-->
        <img class="welcomeImg" src="images/deadpool2.png" style="width: 45%; position: absolute; margin-left: 28%; bottom: 0; z-index: 200;"/>
        <!--<div class="loadingScreen" style="display: none"></div>-->
        <div class="randomTvContainer">
            <div class="tvContainer"></div>
        </div>
        <div class="mask rgba-white-slight"></div>

    </div>
    <!-- Card content -->
    <div class="card-body text-center" style="padding: 0;">

    </div>

</div>
<!-- Card -->

<div id="movieInfoDiv">

    <div class="randomButtonDiv" style="margin-bottom: 20px">
        <button class="btn btn-danger" id="randomTvBtn" style="font-size: 20px; display: block; margin: 0 auto; border-radius: 50%; height: 60px;">
            <span style="margin-top: 5px;" class="fa fa-random"></span></button>
    </div>

</div>

<script>

    $("#randomTvBtn").on("click", function (event) {
        event.preventDefault();

        var randomId = Math.floor(Math.random() * 999) + 1;
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": "https://api.themoviedb.org/3/tv/" + randomId + "?api_key=b2b33767c6b429003530678acd077911&amp;language=en-US",
            "method": "GET",
            "headers": {},
            "data": "{}",
            "error": function (jqXHR, textStatus){
                if (jqXHR.status === 404) {

                    var imgArray = new Array();
                    imgArray[0] = "tvimages/brooklyn.jpg";
                    imgArray[1] = "tvimages/friends.jpg";
                    imgArray[2] = "tvimages/got.jpg";
                    imgArray[3] = "tvimages/greys.jpg";
                    imgArray[4] = "tvimages/luke.jpg";
                    imgArray[5] = "tvimages/westworld.jpg";
                    imgArray[6] = "tvimages/reasons.jpg";
                    imgArray[7] = "tvimages/office.jpg";
                    imgArray[8] = "tvimages/handmaid.jpg";
                    imgArray[9] = "tvimages/sharp.jpg";
                    imgArray[10] = "tvimages/suits.jpg";
                    imgArray[12] = "tvimages/supernatural.jpg";
                    imgArray[13] = "tvimages/walking.jpg";

                    var rnd = Math.floor(Math.random() * imgArray.length);
                    if (rnd == 0) {
                        rnd = 1;
                    }

                    $(".tvContainer").append('<img id="movieImg" style="padding-top: 20px; height: 500px;" src="' + imgArray[rnd] + '"/>').hide().fadeIn(2000);
                    $(".tvContainer").append('<a href="https://www.imdb.com" target="_blank"><span style="margin: 10px 0 10px 0; font-size: 25px; position: relative; z-index: 5000; display: inline-block;" class="glyphicon glyphicon-info-sign"></span></a>').hide().fadeIn(2000);


                }
            }
        };

        $.ajax(settings).done(function (response) {
            console.log(response);
            $(".tvContainer").append('<img id="movieImg" onerror="tvError(this)" style="padding-top: 20px; height: 500px;" src="http://image.tmdb.org/t/p/original' + response.poster_path + '"/>').hide().fadeIn(2000);
            $(".tvContainer").append('<a href="http://www.google.com/search?q=' + response.original_name + '" target="_blank"><span style="margin: 10px 0 10px 0; font-size: 25px; position: relative; z-index: 5000; display: inline-block;" class="glyphicon glyphicon-info-sign"></span></a>').fadeIn(2000);

        });

        $(".tvContainer").empty();
        $(".welcomeIntro").empty();
        $(".welcomeImg").remove();
    });
</script>

<script>
    function tvError(image) {
        // image.style.display = "none";
        $(".tvContainer").empty();

        var imgArray = new Array();
        imgArray[0] = "tvimages/brooklyn.jpg";
        imgArray[1] = "tvimages/friends.jpg";
        imgArray[2] = "tvimages/got.jpg";
        imgArray[3] = "tvimages/greys.jpg";
        imgArray[4] = "tvimages/luke.jpg";
        imgArray[5] = "tvimages/westworld.jpg";
        imgArray[6] = "tvimages/reasons.jpg";
        imgArray[7] = "tvimages/office.jpg";
        imgArray[8] = "tvimages/handmaid.jpg";
        imgArray[9] = "tvimages/sharp.jpg";
        imgArray[10] = "tvimages/suits.jpg";
        imgArray[12] = "tvimages/supernatural.jpg";
        imgArray[13] = "tvimages/walking.jpg";

        var rnd = Math.floor(Math.random() * imgArray.length);
        if (rnd == 0) {
            rnd = 1;
        }

        $(".tvContainer").append('<img id="movieImg" style="padding-top: 20px; height: 500px;" src="' + imgArray[rnd] + '"/>').hide().fadeIn(2000);
        $(".tvContainer").append('<a href="https://www.imdb.com" target="_blank"><span style="margin: 10px 0 10px 0; font-size: 25px; position: relative; z-index: 5000; display: inline-block;" class="glyphicon glyphicon-info-sign"></span></a>').hide().fadeIn(2000);

    }
</script>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.9/js/mdb.min.js"></script>

</body>
</html>